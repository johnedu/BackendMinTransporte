<div class="modal-header">
    <h2>@L("")Agregar Diagnóstico</h2>
</div>
<div class="modal-body">
    <div class="alert alert-danger text-center" ng-show="mensajeError">
        <strong>{{mensajeError}}</strong>
    </div>
    <form role="form" name="modalNuevoDiagnostico">
        <div class="form-group" ng-class="{'has-error' : modalNuevoDiagnostico.iptNombre.$dirty && modalNuevoDiagnostico.iptNombre.$invalid}">
            <label class="control-label" for="iptNombre">@L("")Nombre</label>
            <textarea class="form-control" id="iptNombre" name="iptNombre" placeholder="@L("")Ingrese el nombre" ng-model="diagnostico.nombre" required maxlength="4096" rows="5"></textarea>
            <div ng-show="modalNuevoDiagnostico.iptNombre.$dirty && modalNuevoDiagnostico.iptNombre.$invalid">
                <small ng-show="modalNuevoDiagnostico.iptNombre.$error.required" class="text-danger">
                    @L("")El nombre es requerido
                </small>
            </div>
        </div>
        <div class="form-group" ng-class="{'has-error' : modalNuevoDiagnostico.iptObservaciones.$dirty && modalNuevoDiagnostico.iptObservaciones.$invalid}">
            <label class="control-label" for="iptObservaciones">@L("")Observaciones</label>
            <textarea class="form-control" id="iptObservaciones" name="iptObservaciones" placeholder="@L("")Ingrese las Observaciones" ng-model="diagnostico.observaciones" required maxlength="4096" rows="5"></textarea>
            <div ng-show="modalNuevoDiagnostico.iptObservaciones.$dirty && modalNuevoDiagnostico.iptObservaciones.$invalid">
                <small ng-show="modalNuevoDiagnostico.iptObservaciones.$error.required" class="text-danger">
                    @L("")Las Observaciones son requeridas
                </small>
            </div>
        </div>
        <div class="form-group" ng-class="{'has-error' : modalNuevoDiagnostico.chkRequerido.$dirty && modalNuevoDiagnostico.chkRequerido.$invalid}">
            <div class="checkbox c-checkbox needsclick">
                <label class="needsclick">
                    <input id="chkRequerido" name="chkRequerido" type="checkbox" class="needsclick" ng-model="diagnostico.esRequerido">
                    <span class="fa fa-check"></span>@L("")¿Anula Diagnóstico?
                </label>
            </div>
        </div>
        <div class="form-group" ng-class="{'has-error' : modalNuevoDiagnostico.iptImagen.$dirty && modalNuevoDiagnostico.iptImagen.$invalid}">
            <div class="row">
                <div class="col-md-9">
                    <div class="row">
                        <div class="col-md-6">
                            <label class="control-label" for="iptImagen">@L("")Imagen</label>
                        </div>
                    </div>
                    <div class="row bow-margin-top-10">
                        <div class="col-md-12">
                            <div class="btn btn-info" ngf-select ngf-change="onFileSelect($files)">Seleccionar imagen</div>
                        </div>
                        <div class="col-md-12 bow-padding-top-10" ng-show="showProgressBar">
                            <div class="progress ng-isolate-scope text-center" value="0">
                                <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" ng-style="{width: percent + '%'}" style="width: 0%;"></div>
                                <span class="text-nowrap ng-binding ng-scope text-bold">Cargando ...</span>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="iptImagen" name="iptImagen" ng-model="diagnostico.urlImagen" required />
                    <div ng-show="modalNuevoDiagnostico.modalNuevaCategoria.$dirty && modalNuevoDiagnostico.iptImagen.$invalid">
                        <small ng-show="modalNuevoDiagnostico.iptImagen.$error.required" class="text-danger">
                            @L("")La imagen es requerida
                        </small>
                    </div>
                </div>
                <div class="col-md-3">
                    <img class="img-responsive" src="{{diagnostico.urlImagen}}" />
                </div>
            </div>
        </div>   
    </form>
</div>
<div class="modal-footer">
    <button class="btn btn-success" ng-click="okModal()" ng-disabled="modalNuevoDiagnostico.$invalid">@L("")Aceptar</button>
    <button class="btn btn-danger" ng-click="cancelModal()">@L("")Cancelar</button>
</div>